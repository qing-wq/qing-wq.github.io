<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="qing-wq">



    <meta name="description" content="Qing's Blog">



<title>Spring IoCä¹‹ä½“ç³»ç»“æ„ | Qing&#39;s Blog</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 7.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body>
    <script>
        // this function is used to check current theme before page loaded.
        (() => {
            const currentTheme = window.localStorage && window.localStorage.getItem('theme') || '';
            const isDark = currentTheme === 'dark';
            const pagebody = document.getElementsByTagName('body')[0]
            if (isDark) {
                pagebody.classList.add('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "Â· Dark"
            } else {
                pagebody.classList.remove('dark-theme');
                // mobile
                document.getElementById("mobile-toggle-theme").innerText = "Â· Light"
            }
        })();
    </script>

    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Qing&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Qing&#39;s Blog</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/categories">Categories</a>
                
                    <a class="menu-item" href="/tags">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
            <div class="main">
                <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    var tocbot_timer;
    var DEPTH_MAX = 6; // ä¸º 6 æ—¶å±•å¼€æ‰€æœ‰
    var tocbot_default_config = {
        tocSelector: '.tocbot-list',
        contentSelector: '.post-content',
        headingSelector: 'h1, h2, h3, h4, h5',
        orderedList: false,
        scrollSmooth: true,
        onClick: extend_click,
    };

    function extend_click() {
        clearTimeout(tocbot_timer);
        tocbot_timer = setTimeout(function() {
            tocbot.refresh(obj_merge(tocbot_default_config, {
                hasInnerContainers: true
            }));
        }, 420); // è¿™ä¸ªå€¼æ˜¯ç”± tocbot æºç é‡Œå®šä¹‰çš„ scrollSmoothDuration å¾—æ¥çš„
    }

    document.ready(function() {
        tocbot.init(obj_merge(tocbot_default_config, {
            collapseDepth: 1
        }));
    });

    function expand_toc() {
        var b = document.querySelector('.tocbot-toc-expand');
        var expanded = b.getAttribute('data-expanded');
        expanded ? b.removeAttribute('data-expanded') : b.setAttribute('data-expanded', true);
        tocbot.refresh(obj_merge(tocbot_default_config, {
            collapseDepth: expanded ? 1 : DEPTH_MAX
        }));
        b.innerText = expanded ? 'Expand all' : 'Collapse all';
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

    function obj_merge(target, source) {
        for (var item in source) {
            if (source.hasOwnProperty(item)) {
                target[item] = source[item];
            }
        }
        return target;
    }
</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Spring IoCä¹‹ä½“ç³»ç»“æ„</h1>
            
                <div class="post-meta">
                    
                        ğŸ‘¨â€ğŸ“Author: <a itemprop="author" rel="author" href="/">qing-wq</a>
                    

                    
                        <span class="post-time">
                        ğŸ“…Date: <a href="#">äºŒæœˆ 10, 2024</a>
                        </span>
                    
                    <br/>
                    
                        <span class="post-category">
                            ğŸ“šCategory:
                            
                                <a href="/categories/Spring%E6%BA%90%E7%A0%81%E7%B3%BB%E5%88%97/">Springæºç ç³»åˆ—</a>
                            
                        </span>
                    
                    
                    
                        <span class="post-count">
                            ğŸ“‘Words:
                            <a href="">1.6k</a> 
                        </span>
                    
                    
                        <span class="post-count">
                            â±ï¸Time:
                            <a href="">6min</a> 
                        </span>
                                            
                </div>
            
        </header>

        <div class="post-content">
            <p>Spring Bean çš„åˆ›å»ºæ˜¯å…¸å‹çš„å·¥å‚æ¨¡å¼ï¼Œåœ¨é¡¶å±‚çš„ç»“æ„è®¾è®¡ä¸»è¦å›´ç»•ç€ BeanFactory å’Œ xxxRegistry è¿›è¡Œï¼š</p>
<ul>
<li><strong>BeanFactoryï¼š å·¥å‚æ¨¡å¼å®šä¹‰äº† IOC å®¹å™¨çš„åŸºæœ¬åŠŸèƒ½</strong></li>
<li><strong>BeanRegistryï¼š æä¾›æ‰‹åŠ¨æ³¨å†Œ BeanDefinitionåˆ°å®¹å™¨ä¸­çš„æ–¹æ³•</strong></li>
</ul>
<p><img src="/../images/Spring-IoC%E4%B9%8B%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/image_etoRGn8l6k.png"></p>
<span id="more"></span>

<h2 id="BeanFactory"><a href="#BeanFactory" class="headerlink" title="BeanFactory"></a>BeanFactory</h2><p><strong>BeanFactoryä½œä¸ºæœ€é¡¶å±‚çš„ä¸€ä¸ªæ¥å£ç±»ï¼Œå®ƒå®šä¹‰äº†IOCå®¹å™¨çš„åŸºæœ¬åŠŸèƒ½</strong></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BeanFactory</span> {    </span><br><span class="line">      </span><br><span class="line">    <span class="comment">//ç”¨äºå–æ¶ˆå¼•ç”¨å®ä¾‹å¹¶å°†å…¶ä¸FactoryBeanåˆ›å»ºçš„beanåŒºåˆ†å¼€æ¥ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå‘½åçš„beanæ˜¯FactoryBeanï¼Œåˆ™è·å–å°†è¿”å›Factoryï¼Œè€Œä¸æ˜¯Factoryè¿”å›çš„å®ä¾‹ã€‚</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">FACTORY_BEAN_PREFIX</span> <span class="operator">=</span> <span class="string">"&amp;"</span>; </span><br><span class="line">        </span><br><span class="line">    <span class="comment">//æ ¹æ®beançš„åå­—å’ŒClassç±»å‹ç­‰æ¥å¾—åˆ°beanå®ä¾‹    </span></span><br><span class="line">    Object <span class="title function_">getBean</span><span class="params">(String name)</span> <span class="keyword">throws</span> BeansException;    </span><br><span class="line">    Object <span class="title function_">getBean</span><span class="params">(String name, Class requiredType)</span> <span class="keyword">throws</span> BeansException;    </span><br><span class="line">    Object <span class="title function_">getBean</span><span class="params">(String name, Object... args)</span> <span class="keyword">throws</span> BeansException;</span><br><span class="line">    &lt;T&gt; T <span class="title function_">getBean</span><span class="params">(Class&lt;T&gt; requiredType)</span> <span class="keyword">throws</span> BeansException;</span><br><span class="line">    &lt;T&gt; T <span class="title function_">getBean</span><span class="params">(Class&lt;T&gt; requiredType, Object... args)</span> <span class="keyword">throws</span> BeansException;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›æŒ‡å®šbeançš„Provider</span></span><br><span class="line">    &lt;T&gt; ObjectProvider&lt;T&gt; <span class="title function_">getBeanProvider</span><span class="params">(Class&lt;T&gt; requiredType)</span>;</span><br><span class="line">    &lt;T&gt; ObjectProvider&lt;T&gt; <span class="title function_">getBeanProvider</span><span class="params">(ResolvableType requiredType)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ£€æŸ¥å·¥å‚ä¸­æ˜¯å¦åŒ…å«ç»™å®šnameçš„beanï¼Œæˆ–è€…å¤–éƒ¨æ³¨å†Œçš„bean</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">containsBean</span><span class="params">(String name)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ£€æŸ¥æ‰€ç»™å®šnameçš„beanæ˜¯å¦ä¸ºå•ä¾‹/åŸå‹</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isSingleton</span><span class="params">(String name)</span> <span class="keyword">throws</span> NoSuchBeanDefinitionException;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isPrototype</span><span class="params">(String name)</span> <span class="keyword">throws</span> NoSuchBeanDefinitionException;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ‰€ç»™nameçš„ç±»å‹ä¸typeæ˜¯å¦åŒ¹é…</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isTypeMatch</span><span class="params">(String name, ResolvableType typeToMatch)</span> <span class="keyword">throws</span> NoSuchBeanDefinitionException;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">isTypeMatch</span><span class="params">(String name, Class&lt;?&gt; typeToMatch)</span> <span class="keyword">throws</span> NoSuchBeanDefinitionException;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–ç»™å®šnameçš„beançš„ç±»å‹</span></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    Class&lt;?&gt; getType(String name) <span class="keyword">throws</span> NoSuchBeanDefinitionException;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›ç»™å®šnameçš„beançš„åˆ«å</span></span><br><span class="line">    String[] getAliases(String name);</span><br><span class="line">     </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>BeanFactory æœ‰ä¸‰ä¸ªå­ç±»ï¼š<code>ListableBeanFactory</code>ã€<code>HierarchicalBeanFactory</code> å’Œ<code>AutowireCapableBeanFactory</code>ã€‚</p>
<ul>
<li>**<code>ListableBeanFactory</code>**ï¼šè¯¥æ¥å£å®šä¹‰äº†è®¿é—®å®¹å™¨ä¸­ Bean åŸºæœ¬ä¿¡æ¯çš„è‹¥å¹²æ–¹æ³•ï¼Œå¦‚æŸ¥çœ‹ Bean çš„ä¸ªæ•°ã€è·å–æŸä¸€ç±»å‹ Bean çš„é…ç½®åã€æŸ¥çœ‹å®¹å™¨ä¸­æ˜¯å¦åŒ…æ‹¬æŸä¸€ Bean ç­‰æ–¹æ³•ï¼›</li>
<li>**<code>HierarchicalBeanFactory</code>**ï¼šçˆ¶å­çº§è” IoC å®¹å™¨çš„æ¥å£ï¼Œå­å®¹å™¨å¯ä»¥é€šè¿‡æ¥å£æ–¹æ³•è®¿é—®çˆ¶å®¹å™¨ï¼› é€šè¿‡ HierarchicalBeanFactory æ¥å£ï¼Œ Spring çš„ IoC å®¹å™¨å¯ä»¥å»ºç«‹çˆ¶å­å±‚çº§å…³è”çš„å®¹å™¨ä½“ç³»ï¼Œå­å®¹å™¨å¯ä»¥è®¿é—®çˆ¶å®¹å™¨ä¸­çš„ Beanï¼Œä½†çˆ¶å®¹å™¨ä¸èƒ½è®¿é—®å­å®¹å™¨çš„ Beanã€‚Spring ä½¿ç”¨çˆ¶å­å®¹å™¨å®ç°äº†å¾ˆå¤šåŠŸèƒ½ï¼Œæ¯”å¦‚åœ¨ Spring MVC ä¸­ï¼Œå±•ç°å±‚ Bean ä½äºä¸€ä¸ªå­å®¹å™¨ä¸­ï¼Œè€Œä¸šåŠ¡å±‚å’ŒæŒä¹…å±‚çš„ Bean ä½äºçˆ¶å®¹å™¨ä¸­ã€‚è¿™æ ·ï¼Œå±•ç°å±‚ Bean å°±å¯ä»¥å¼•ç”¨ä¸šåŠ¡å±‚å’ŒæŒä¹…å±‚çš„ Beanï¼Œè€Œä¸šåŠ¡å±‚å’ŒæŒä¹…å±‚çš„ Bean åˆ™çœ‹ä¸åˆ°å±•ç°å±‚çš„ Beanã€‚</li>
<li>**<code>ConfigurableBeanFactory</code>**ï¼šæ˜¯ä¸€ä¸ªé‡è¦çš„æ¥å£ï¼Œå¢å¼ºäº† IoC å®¹å™¨çš„å¯å®šåˆ¶æ€§ï¼Œå®ƒå®šä¹‰äº†è®¾ç½®ç±»è£…è½½å™¨ã€å±æ€§ç¼–è¾‘å™¨ã€å®¹å™¨åˆå§‹åŒ–åç½®å¤„ç†å™¨ç­‰æ–¹æ³•ï¼›</li>
<li><strong><code>ConfigurableListableBeanFactory</code></strong>: ListableBeanFactory å’Œ ConfigurableBeanFactory çš„èåˆï¼›</li>
<li>**<code>AutowireCapableBeanFactory</code>**ï¼šå®šä¹‰äº†å°†å®¹å™¨ä¸­çš„ Bean æŒ‰æŸç§è§„åˆ™ï¼ˆå¦‚æŒ‰åå­—åŒ¹é…ã€æŒ‰ç±»å‹åŒ¹é…ç­‰ï¼‰è¿›è¡Œè‡ªåŠ¨è£…é…çš„æ–¹æ³•</li>
</ul>
<h2 id="BeanRegistry"><a href="#BeanRegistry" class="headerlink" title="BeanRegistry"></a>BeanRegistry</h2><p> BeanDefinitionRegistry æ¥å£æä¾›äº†å‘å®¹å™¨æ‰‹å·¥æ³¨å†Œ BeanDefinition å¯¹è±¡çš„æ–¹æ³•</p>
<h2 id="BeanDefinition"><a href="#BeanDefinition" class="headerlink" title="BeanDefinition"></a>BeanDefinition</h2><p>Bean å¯¹è±¡å­˜åœ¨ä¾èµ–åµŒå¥—ç­‰å…³ç³»ï¼Œæ‰€ä»¥è®¾è®¡è€…è®¾è®¡äº† BeanDefinitionï¼Œå®ƒç”¨æ¥å¯¹ Bean å¯¹è±¡åŠå…³ç³»å®šä¹‰ï¼›æˆ‘ä»¬åœ¨ç†è§£æ—¶åªéœ€è¦æŠ“ä½å¦‚ä¸‹ä¸‰ä¸ªè¦ç‚¹ï¼š</p>
<ul>
<li><code>BeanDefinition</code> å®šä¹‰äº†å„ç§ Bean å¯¹è±¡åŠå…¶ç›¸äº’çš„å…³ç³»</li>
<li><code>BeanDefinitionReader</code> è¿™æ˜¯ BeanDefinition çš„è§£æå™¨</li>
<li><code>BeanDefinitionHolder</code> è¿™æ˜¯ BeanDefination çš„åŒ…è£…ç±»ï¼Œç”¨æ¥å­˜å‚¨ BeanDefinitionï¼Œname ä»¥åŠ aliases ç­‰ã€‚</li>
</ul>
<p><img src="/../images/Spring-IoC%E4%B9%8B%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/image_bZorDDTlue.png"></p>
<h2 id="ApplicationContext"><a href="#ApplicationContext" class="headerlink" title="ApplicationContext"></a>ApplicationContext</h2><p>ApplicationContextæ˜¯IoCå®¹å™¨çš„æ¥å£ï¼Œé™¤äº†ç»§æ‰¿äº†BeanFactoryçš„èƒ½åŠ›ï¼Œè¿˜æ‹“å±•äº†é…ç½®èµ„æºçš„åŠ è½½ã€åº”ç”¨äº‹ä»¶ã€å›½é™…åŒ–ç­‰åŠŸèƒ½</p>
<p><img src="/../images/Spring-IoC%E4%B9%8B%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/image_LT5sne3EVd.png"></p>
<ul>
<li><strong>ApplicationEventPublisher</strong>ï¼šè®©å®¹å™¨æ‹¥æœ‰å‘å¸ƒåº”ç”¨ä¸Šä¸‹æ–‡äº‹ä»¶çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬å®¹å™¨å¯åŠ¨äº‹ä»¶ã€å…³é—­äº‹ä»¶ç­‰ã€‚</li>
<li><strong>MessageSource</strong>ï¼šä¸ºåº”ç”¨æä¾› i18n å›½é™…åŒ–æ¶ˆæ¯è®¿é—®çš„åŠŸèƒ½ï¼›</li>
<li><strong>ResourcePatternResolver</strong> ï¼šèµ„æºæ¨¡å¼è§£ææ¥å£ï¼Œå¯ä»¥é€šè¿‡å¸¦å‰ç¼€çš„ Ant é£æ ¼çš„èµ„æºæ–‡ä»¶è·¯å¾„è£…è½½ Spring çš„é…ç½®æ–‡ä»¶ã€‚</li>
<li><strong>LifeCycle</strong>ï¼šæä¾›äº† <code>start()</code> å’Œ <code>stop()</code> ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸»è¦ç”¨äºæ§åˆ¶å¼‚æ­¥å¤„ç†è¿‡ç¨‹ã€‚åœ¨å…·ä½“ä½¿ç”¨æ—¶ï¼Œè¯¥æ¥å£åŒæ—¶è¢« ApplicationContext å®ç°åŠå…·ä½“ Bean å®ç°ï¼Œ ApplicationContext ä¼šå°† start/stop çš„ä¿¡æ¯ä¼ é€’ç»™å®¹å™¨ä¸­æ‰€æœ‰å®ç°äº†è¯¥æ¥å£çš„ Beanï¼Œä»¥è¾¾åˆ°ç®¡ç†å’Œæ§åˆ¶ JMXã€ä»»åŠ¡è°ƒåº¦ç­‰ç›®çš„ã€‚</li>
</ul>
<h3 id="ApplicationContextä½“ç³»"><a href="#ApplicationContextä½“ç³»" class="headerlink" title="ApplicationContextä½“ç³»"></a>ApplicationContextä½“ç³»</h3><p><img src="/../images/Spring-IoC%E4%B9%8B%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/image_-3W-afYUAj.png"></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆè®¾è®¡è¿™ä¹ˆå¤šApplicationContextï¼Ÿ</p>
<p><strong>ç¬¬ä¸€ï¼Œä»ç±»ç»“æ„è®¾è®¡ä¸Šçœ‹ï¼Œ å›´ç»•ç€æ˜¯å¦éœ€è¦ Refresh å®¹å™¨è¡ç”Ÿå‡ºä¸¤ä¸ªæŠ½è±¡ç±»</strong>ï¼š</p>
<ul>
<li><code>GenericApplicationContext</code>ï¼š æ˜¯åˆå§‹åŒ–çš„æ—¶å€™å°±åˆ›å»ºå®¹å™¨ï¼Œå¾€åçš„æ¯æ¬¡ refresh éƒ½ä¸ä¼šæ›´æ”¹</li>
<li><code>AbstractRefreshableApplicationContext</code>ï¼š <code>AbstractRefreshableApplicationContext</code> åŠå­ç±»çš„æ¯æ¬¡ refresh éƒ½æ˜¯å…ˆæ¸…é™¤å·²æœ‰ (å¦‚æœä¸å­˜åœ¨å°±åˆ›å»º) çš„å®¹å™¨ï¼Œç„¶åå†é‡æ–°åˆ›å»ºï¼Œå› æ­¤æ— æ³•åšåˆ°åƒ <code>GenericApplicationContext</code> <strong>æ··åˆæ­é…ä»ä¸åŒæºå¤´è·å– bean çš„å®šä¹‰ä¿¡æ¯</strong></li>
</ul>
<p><strong>ç¬¬äºŒï¼Œ ä»åŠ è½½çš„æºæ¥çœ‹ï¼ˆæ¯”å¦‚ xml,groovy,annotation ç­‰ï¼‰ï¼Œ è¡ç”Ÿå‡ºä¼—å¤šç±»å‹çš„ ApplicationContext, å…¸å‹æ¯”å¦‚</strong>:</p>
<ul>
<li><code>FileSystemXmlApplicationContext</code>ï¼š ä»æ–‡ä»¶ç³»ç»Ÿä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ª xml é…ç½®æ–‡ä»¶ä¸­åŠ è½½ä¸Šä¸‹æ–‡å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯è¯´ç³»ç»Ÿç›˜ç¬¦ä¸­åŠ è½½ xml é…ç½®æ–‡ä»¶ã€‚</li>
<li><code>ClassPathXmlApplicationContext</code>ï¼š ä»ç±»è·¯å¾„ä¸‹çš„ä¸€ä¸ªæˆ–å¤šä¸ª xml é…ç½®æ–‡ä»¶ä¸­åŠ è½½ä¸Šä¸‹æ–‡å®šä¹‰ï¼Œé€‚ç”¨äº xml é…ç½®çš„æ–¹å¼ã€‚</li>
<li><code>AnnotationConfigApplicationContext</code>ï¼š ä»ä¸€ä¸ªæˆ–å¤šä¸ªåŸºäº java çš„é…ç½®ç±»ä¸­åŠ è½½ä¸Šä¸‹æ–‡å®šä¹‰ï¼Œé€‚ç”¨äº java æ³¨è§£çš„æ–¹å¼ã€‚</li>
<li><code>ConfigurableApplicationContext</code>ï¼š æ‰©å±•äº ApplicationContextï¼Œå®ƒæ–°å¢åŠ äº†ä¸¤ä¸ªä¸»è¦çš„æ–¹æ³•ï¼š <code>refresh()</code> å’Œ <code>close()</code>ï¼Œè®© ApplicationContext å…·æœ‰å¯åŠ¨ã€åˆ·æ–°å’Œå…³é—­åº”ç”¨ä¸Šä¸‹æ–‡çš„èƒ½åŠ›ã€‚åœ¨åº”ç”¨ä¸Šä¸‹æ–‡å…³é—­çš„æƒ…å†µä¸‹è°ƒç”¨ <code>refresh()</code> å³å¯å¯åŠ¨åº”ç”¨ä¸Šä¸‹æ–‡ï¼Œåœ¨å·²ç»å¯åŠ¨çš„çŠ¶æ€ä¸‹ï¼Œè°ƒç”¨ <code>refresh()</code> åˆ™æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°è£…è½½é…ç½®ä¿¡æ¯ï¼Œè€Œè°ƒç”¨ <code>close()</code> åˆ™å¯å…³é—­åº”ç”¨ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<p><strong>ç¬¬ä¸‰ï¼Œ æ›´è¿›ä¸€æ­¥ç†è§£</strong>ï¼š</p>
<p>***è®¾è®¡è€…åœ¨è®¾è®¡æ—¶ <code>AnnotationConfigApplicationContext</code> ä¸ºä»€ä¹ˆæ˜¯ç»§æ‰¿ <code>GenericApplicationContext</code>***ï¼Ÿ å› ä¸ºåŸºäºæ³¨è§£çš„é…ç½®ï¼Œæ˜¯ä¸å¤ªä¼šè¢«è¿è¡Œæ—¶ä¿®æ”¹çš„ï¼Œè¿™æ„å‘³ç€ä¸éœ€è¦è¿›è¡ŒåŠ¨æ€ Bean é…ç½®å’Œåˆ·æ–°å®¹å™¨ï¼Œæ‰€ä»¥åªéœ€è¦ <code>GenericApplicationContext</code>ã€‚</p>
<p>è€ŒåŸºäº XML è¿™ç§é…ç½®æ–‡ä»¶ï¼Œè¿™ç§æ–‡ä»¶æ˜¯å®¹æ˜“ä¿®æ”¹çš„ï¼Œéœ€è¦åŠ¨æ€æ€§åˆ·æ–° Bean çš„æ”¯æŒï¼Œæ‰€ä»¥ XML ç›¸å…³çš„é…ç½®å¿…ç„¶ç»§æ‰¿ <code>AbstractRefreshableApplicationContext</code>ï¼› ä¸”å­˜åœ¨å¤šç§ xml çš„åŠ è½½æ–¹å¼ï¼ˆä½ç½®ä¸åŒçš„è®¾è®¡ï¼‰ï¼Œæ‰€ä»¥å¿…ç„¶ä¼šè®¾è®¡å‡º <code>AbstractXmlApplicationContext</code>, å…¶ä¸­åŒ…å«å¯¹ XML é…ç½®è§£ææˆ BeanDefination çš„è¿‡ç¨‹ã€‚</p>
<p>é‚£ä¹ˆç»†å¿ƒçš„ä½ ä»ä¸Šå›¾å¯ä»¥***å‘ç° <code>AnnotationWebConfigApplicationContext</code> å´æ˜¯ç»§æ‰¿äº† <code>AbstractRefreshableApplicationContext</code> è€Œä¸æ˜¯ <code>GenericApplicationContext</code>***ï¼Ÿ å› ä¸ºç”¨æˆ·å¯ä»¥é€šè¿‡ ApplicationContextInitializer æ¥è®¾ç½® contextInitializerClassesï¼ˆcontext-param / init-paramï¼‰ï¼Œ åœ¨è¿™ç§æƒ…å†µä¸‹ç”¨æˆ·å€¾å‘äºåˆ·æ–° Bean çš„ï¼Œæ‰€ä»¥è®¾è®¡è€…é€‰æ‹©è®© <code>AnnotationWebConfigApplicationContext</code> ç»§æ‰¿äº† <code>AbstractRefreshableApplicationContext</code>ã€‚</p>
</blockquote>
<p>è¿™ä¸€æ®µè§£é‡Šå°ç¥ï¼Œæˆ‘ç›´æ¥å¤åˆ¶ç²˜è´´ğŸ˜†</p>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://pdai.tech/md/spring/spring-x-framework-ioc-source-1.html" title="https://pdai.tech/md/spring/spring-x-framework-ioc-source-1.html">https://pdai.tech/md/spring/spring-x-framework-ioc-source-1.html</a></li>
</ul>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>qing-wq</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://qing-wq.github.io/2024/02/10/Spring-IoC%E4%B9%8B%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/">https://qing-wq.github.io/2024/02/10/Spring-IoC%E4%B9%8B%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/IoC/"># IoC</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2024/02/13/Thread%E6%9C%89%E5%87%A0%E7%A7%8D%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F%EF%BC%9F/">Threadæœ‰å‡ ç§åˆ›å»ºæ–¹å¼ï¼Ÿ</a>
            
            
            <a class="next" rel="next" href="/2024/02/03/%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%9C%A8%E4%B8%9A%E5%8A%A1%E4%B8%AD%E7%9A%84%E5%AE%9E%E8%B7%B5%E4%BB%A5%E5%8F%8A%E5%AF%B9%E5%BA%94%E5%8F%82%E6%95%B0%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1/">çº¿ç¨‹æ± åœ¨ä¸šåŠ¡ä¸­çš„å®è·µä»¥åŠå¯¹åº”å‚æ•°å¦‚ä½•è®¾è®¡</a>
            
        </section>


    </article>
</div>

            </div>
            <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© qing-wq | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>

</html>